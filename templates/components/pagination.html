{% templatetag openblock %} load util_tags {% templatetag closeblock %}


{% templatetag openblock %} if paginator_page.paginator.num_pages > 1 {% templatetag closeblock %}
    <nav 
        aria-label="Pagination results" 
        role="navigation" 
        class="flex flex-row justify-center items-center gap-2.5 pt-10">
            {% templatetag openblock %} if paginator_page.has_previous {% templatetag closeblock %}
                {# If there is a previous page, display the "Previous" button. #}
                <a 
                    class="
                    rounded-md
                    border-[1px]
                    border-mackerel-200
                    hover:bg-mackerel-200
                    dark:border-mackerel-300
                    dark:hover:bg-mackerel-300
                    p-2
                    flex
                    items-center
                    justify-center
                    min-w-10
                    min-h-10
                    "
                    href="{% templatetag openblock %} querystring_modify page=paginator_page.previous_page_number {% templatetag closeblock %}">
                    {% templatetag openblock %} include "icons/arrow-right.html" with class="fill-current w-3 h-3 rotate-180" {% templatetag closeblock %}
                    <span class="sr-only">Previous page</span>
                </a>
            {% templatetag openblock %} endif {% templatetag closeblock %}

        <ul class="flex flex-row justify-center items-center gap-2.5">
            {% templatetag openblock %} if paginator_page.number|add:'-1' > 1 {% templatetag closeblock %}
                {% templatetag openblock %} comment {% templatetag closeblock %}
                    If the current page is more than 2 pages away from the first page,
                    display a button for the first page.
                {% templatetag openblock %} endcomment {% templatetag closeblock %}
                <li>
                    <a 
                        class="
                        rounded-md
                        border-[1px]
                        border-mackerel-200
                        hover:bg-mackerel-200
                        dark:border-mackerel-300
                        dark:hover:bg-mackerel-300
                        p-2
                        flex
                        items-center
                        justify-center
                        min-w-10
                        min-h-10
                        "
                        href="{% templatetag openblock %} querystring_modify page=1 {% templatetag closeblock %}"
                        >
                        1
                    </a>
                </li>
            {% templatetag openblock %} endif {% templatetag closeblock %}

            {% templatetag openblock %} if paginator_page.number|add:'-2' > 1 {% templatetag closeblock %}
                {% templatetag openblock %} comment {% templatetag closeblock %}
                    If the current page is more than 3 pages away from the first page,
                    display an ellipsis (...) to indicate skipped pages.
                {% templatetag openblock %} endcomment {% templatetag closeblock %}
                <li>
                    <span 
                        class="
                        rounded-md
                        border-[1px]
                        border-mackerel-200
                        dark:border-mackerel-300
                        p-2
                        flex
                        items-center
                        justify-center
                        min-w-10
                        min-h-10
                        ">
                        &hellip;
                    </span>
                </li>
            {% templatetag openblock %} endif {% templatetag closeblock %}

            {% templatetag openblock %} for i in paginator_page.paginator.page_range {% templatetag closeblock %}
                {% templatetag openblock %} if paginator_page.number == i {% templatetag closeblock %}
                    {# If current page display it as an active button. #}
                    <li aria-current="page" aria-label="Page {% templatetag openvariable %} i {% templatetag closevariable %}">
                        <span
                            class="
                            rounded-md
                            border-[1px]
                            bg-mackerel-200
                            dark:border-mackerel-300
                            dark:bg-mackerel-300
                            p-2
                            flex
                            items-center
                            justify-center
                            min-w-10
                            min-h-10
                            ">
                            {% templatetag openvariable %} i {% templatetag closevariable %}
                        </span>
                    </li>
                {% templatetag openblock %} elif i > paginator_page.number|add:'-2' and i < paginator_page.number|add:'2' {% templatetag closeblock %}
                {% templatetag openblock %} comment {% templatetag closeblock %}
                    Else if the loop iteration is within 2 pages of the current page,
                    display it as a numeric pagination button.
                {% templatetag openblock %} endcomment {% templatetag closeblock %}
                    <li>
                        <a 
                            class="
                            rounded-md
                            border-[1px]
                            border-mackerel-200
                            hover:bg-mackerel-200
                            dark:border-mackerel-300
                            dark:hover:bg-mackerel-300
                            p-2
                            flex
                            items-center
                            justify-center
                            min-w-10
                            min-h-10
                            "
                            href="{% templatetag openblock %} querystring_modify page=i {% templatetag closeblock %}">
                            {% templatetag openvariable %} i {% templatetag closevariable %}
                        </a>
                    </li>
                {% templatetag openblock %} endif {% templatetag closeblock %}
            {% templatetag openblock %} endfor {% templatetag closeblock %}


            {% templatetag openblock %} if paginator_page.paginator.num_pages > paginator_page.number|add:'2' {% templatetag closeblock %}
                {% templatetag openblock %} comment {% templatetag closeblock %}
                    If there are more than 2 pages remaining after the current page,
                    display an ellipsis (...) to indicate skipped pages.
                {% templatetag openblock %} endcomment {% templatetag closeblock %}
                <li>
                    <span
                        class="
                        rounded-md
                        border-[1px]
                        border-mackerel-200
                        dark:border-mackerel-300
                        p-2
                        flex
                        items-center
                        justify-center
                        min-w-10
                        min-h-10
                        "
                        >
                        &hellip;
                    </span>
                </li>
            {% templatetag openblock %} endif {% templatetag closeblock %}
            {% templatetag openblock %} if paginator_page.paginator.num_pages > paginator_page.number|add:'1' {% templatetag closeblock %}
                {% templatetag openblock %} comment {% templatetag closeblock %}
                    If there is at least one page following the current page,
                    display a button for the last page.
                {% templatetag openblock %} endcomment {% templatetag closeblock %}
                <li>
                    <a 
                        class="
                        rounded-md
                        border-[1px]
                        border-mackerel-200
                        hover:bg-mackerel-200
                        dark:border-mackerel-300
                        dark:hover:bg-mackerel-300
                        p-2
                        flex
                        items-center
                        justify-center
                        min-w-10
                        min-h-10"
                        href="{% templatetag openblock %} querystring_modify page=paginator_page.paginator.num_pages {% templatetag closeblock %}"
                        >
                        {% templatetag openvariable %} paginator_page.paginator.num_pages {% templatetag closevariable %}
                    </a>
                </li>
            {% templatetag openblock %} endif {% templatetag closeblock %}
        </ul>

        {% templatetag openblock %} if paginator_page.has_next {% templatetag closeblock %}
            {# If there is a next page, display the "Next" button. #}
            <a
                class="
            
                rounded-md
                border-[1px]
                border-mackerel-200
                hover:bg-mackerel-200
                dark:border-mackerel-300
                dark:hover:bg-mackerel-300
                p-2
                flex
                items-center
                justify-center
                min-w-10
                min-h-10
                "
                href="{% templatetag openblock %} querystring_modify page=paginator_page.next_page_number {% templatetag closeblock %}">
                <span class="sr-only">Next page</span>
                {% templatetag openblock %} include "icons/arrow-right.html" with class="fill-current w-3 h-3" {% templatetag closeblock %}
            </a>


        {% templatetag openblock %} endif {% templatetag closeblock %}
    </nav>
{% templatetag openblock %} endif {% templatetag closeblock %}
